<!DOCTYPE html>
<head>
    <meta charset="utf-8">
    <title>Experiment</title>
    <link rel="shortcut icon" href="ucla.png">
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans&family=Work+Sans:wght@200;300;400;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <script src='https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js'></script>
    <script src='https://cdnjs.cloudflare.com/ajax/libs/mobile-detect/1.4.3/mobile-detect.min.js'></script>
    <script src="trialInterface.js"></script>
    <script src="trial.js"></script>
    <script src="instruction.js"></script>
    <script src="subject.js"></script>
    <script src="index.js"></script>
</head>
<body>
    <!--==========INSTRUCTIONS==========-->
    <div class="pageBox" id="instrPage">
        <div id="instrBox">
            <iframe id="consent" src="informedConsent.pdf"></iframe>
            <p id="instrText"></p>
            <img id="examGrid" src="exampleGrid.png" alt="An error occurred when loading the picture.">
            <div class="pageBox" id="instrQBox">
                <p id="instrQText">Which of the following is <b>not correct</b>?</p>
                <div id="quizBox">
                <label><div class="option"><input class="optionRadio" type="radio" name="instrQ" value="walk"><div class="optionText">You can achieve the goal by walking on your own.</div></div></label>
                <label><div class="option"><input class="optionRadio" type="radio" name="instrQ" value="points"><div class="optionText">If either the robot or you achieve the goal, you get 8 points.</div></div></label>
                <label><div class="option"><input class="optionRadio" type="radio" name="instrQ" value="costs"><div class="optionText">Each step taken by either the robot or you costs 1 point.</div></div></label>
                <label><div class="option"><input class="optionRadio" type="radio" name="instrQ" value="several"><div class="optionText">You can achieve the goal by sending out several signals to the robot.</div></div></label>
                </div>
                <div class='warning' id='instrQWarning'></div>
                <div class="butNext" id="instrQBut" onclick="SUBMIT_INSTR_Q()">SUBMIT</div>
            </div>
            <button class="butNext" id="instrNextBut" onclick="instr.next()">NEXT</button>
            <button class="butNext" id="instrBackBut" onclick="instr.back()">BACK</button>
        </div>
        
        <div id="bufferContainer">
            <img id="buffer" alt="An error occurred when loading the picture.">
        </div>
        <!--=====INSTRUCTION QUIZ=====-->
        <button class="butNext" id="startExptBut" onclick="START_EXPT()">NEXT</button>
    </div>
    <!--==========TRY EXPERIMENT==========-->
    <div class="pageBox" id="tryExptPage">
        <div id="tryExptBox">
            <div id="tryScoreBoard">
                    <div class="info" id="tryPracticeInfo">
                        <p>Practice </p>
                        <p></p>
                    </div>
                    <div class="info">
                        <p style="top: -5px;">Target: </p>
                        <img class="shape" id="tryGoalShape" alt="An error occurred when loading the picture.">
                    </div>
                    <div class="info">
                        <p>Total Score: </p>
                        <p id="tryScore"></p>
                    </div>
                    <div class="info">
                        <p>Steps Taken: </p>
                        <p class="tryStep"></p>
                    </div>                
            </div>
            <div class="tryColumn" id="tryVerticalAxis">9 8 7 6 5 4 3 2 1 0</div>
            <div class="tryColumn" id="tryGridContainer"></div>
            <div id="tryHorizontalAxis">0 1 2 3 4 5 6 7 8</div>
            <div class="tryColumn text">
                <div id="tryExptInstr">
                    <div id="tryExptFade">
                        <div id="trySay">
                            <p>Send one signal to <img class="shape" src="shape/receiver.png">:</p>
                            <button class="butExpt" id="tryButOption0">red</button> 
                            <button class="butExpt" id="tryButOption1">green</button>
                            <button class="butExpt" id="tryButOption2">purple</button>
                            <button class="butExpt" id="tryButOption3">circle</button>
                            <button class="butExpt" id="tryButOption4">square</button>
                            <button class="butExpt" id="tryButOption5">triangle</button>
                        </div>
                        <div id="tryDo">
                            <p class="inlineImg">Use arrow keys on your keyboard to move <img class="shape" src="shape/signaler.png">.</p>
                        </div>
                    </div>
                    <div id="tryDecision"></div>
                </div>
            </div>
            <div id="tryResult">
                <p id="tryResultText"></p>
                <div class="resultInfo">
                    <p class="title">Steps: </p>
                    <p class="data tryStep"></p>
                </div>
                <div class="resultInfo">
                    <p class="title">Reward: </p>
                    <p class="data" id="tryReward"></p>
                </div>
                <div id="tryScoreThisRoundBox">
                    <p class="title">Score this round:</p>
                    <p class="data" id="tryScoreThisRound"></p>
                </div>
                <div id="tryTotalScoreBox">
                    <p class="title">New Total Score: </p>
                    <p class="data" id="tryTotalAfter"></p>
                </div>
                <button class="butNext" id="tryResultBut">NEXT</button>
            </div>
        </div>
    </div>
    <!--==========PRACTICE EXPERIMENT==========-->
    <div class="pageBox" id="practiceExptPage">
        <div id="practiceExptBox">
            <div id="practiceScoreBoard">
                    <div class="info" id="practiceInfo">
                        <p>Practice </p>
                        <p id="round"></p>
                    </div>
                    <div class="info">
                        <p style="top: -5px;">Target: </p>
                        <img class="shape" id="practiceGoalShape" alt="An error occurred when loading the picture.">
                    </div>
                    <div class="info">
                        <p>Total Score: </p>
                        <p id="practiceScore"></p>
                    </div>
                    <div class="info">
                        <p>Steps Taken: </p>
                        <p class="practiceStep"></p>
                    </div>                
            </div>
            <div class="column" id="practiceVerticalAxis">9 8 7 6 5 4 3 2 1 0</div>
            <div class="column" id="practiceGridContainer"></div>
            <div id="practiceHorizontalAxis">0 1 2 3 4 5 6 7 8</div>
            <div class="column text">
                <div id="practiceExptInstr">
                    <div id="practiceExptFade">
                        <div id="practiceSay">
                            <p>Send one signal to <img class="shape" src="shape/receiver.png">:</p>
                            <button class="butExpt" id="practiceButOption0">red</button> 
                            <button class="butExpt" id="practiceButOption1">green</button>
                            <button class="butExpt" id="practiceButOption2">purple</button>
                            <button class="butExpt" id="practiceButOption3">circle</button>
                            <button class="butExpt" id="practiceButOption4">square</button>
                            <button class="butExpt" id="practiceButOption5">triangle</button>
                        </div>
                        <div id="practiceDo">
                            <p class="inlineImg">Use arrow keys on your keyboard to move <img class="shape" src="shape/signaler.png">.</p>
                        </div>
                        <div id="practiceQuit">
                            <p id="practiceQuitText">Give up on this trial: </p>
                            <button class="butExpt" id="practiceQuitBut">Quit</button>
                        </div>
                    </div>
                    <div id="practiceDecision"></div>
                </div>
            </div>
            <div id="practiceResult">
                <p id="practiceResultText"></p>
                <div class="resultInfo">
                    <p class="title">Steps: </p>
                    <p class="data practiceStep"></p>
                </div>
                <div class="resultInfo">
                    <p class="title">Reward: </p>
                    <p class="data" id="practiceReward"></p>
                </div>
                <div id="practiceScoreThisRoundBox">
                    <p class="title">Score this round:</p>
                    <p class="data" id="practiceScoreThisRound"></p>
                </div>
                <div id="practiceTotalScoreBox">
                    <p class="title">New Total Score: </p>
                    <p class="data" id="practiceTotalAfter"></p>
                </div>
                <button class="butNext" id="practiceResultBut">NEXT</button>
            </div>
        </div>
    </div>
    <!--==========FORMAL EXPERIMENT==========-->
    <div class="pageBox" id="exptPage">
        <div id="exptBox">
            <div id="scoreBoard">
                    <div class="info" id="exptPracticeInfo">
                        <p>Practice </p>
                        <p></p>
                    </div>
                    <div class="info">
                        <p style="top: -5px;">Target: </p>
                        <img class="shape" id="goalShape" alt="An error occurred when loading the picture.">
                    </div>
                    <div class="info">
                        <p>Total Score: </p>
                        <p id="score"></p>
                    </div>
                    <div class="info">
                        <p>Steps Taken: </p>
                        <p class="step"></p>
                    </div>                
            </div>
            <div class="column" id="verticalAxis">9 8 7 6 5 4 3 2 1 0</div>
            <div class="column" id="gridContainer"></div>
            <div id="horizontalAxis">0 1 2 3 4 5 6 7 8</div>
            <div class="column text">
                <div id="exptInstr">
                    <div id="exptFade">
                        <div id="say">
                            <p>Send one signal to <img class="shape" src="shape/receiver.png">:</p>
                            <button class="butExpt" id="butOption0">red</button> 
                            <button class="butExpt" id="butOption1">green</button>
                            <button class="butExpt" id="butOption2">purple</button>
                            <button class="butExpt" id="butOption3">circle</button>
                            <button class="butExpt" id="butOption4">square</button>
                            <button class="butExpt" id="butOption5">triangle</button>
                        </div>
                        <div id="do">
                            <p class="inlineImg">Use arrow keys on your keyboard to move <img class="shape" src="shape/signaler.png">.</p>
                        </div>
                        <div id="quit">
                            <p id="quitText">Give up on this trial: </p>
                            <button class="butExpt" id="quitBut">Quit</button>
                        </div>
                    </div>
                    <div id="decision"></div>
                </div>
            </div>
            <div id="result">
                <p id="resultText"></p>
                <div class="resultInfo">
                    <p class="title">Steps: </p>
                    <p class="data step"></p>
                </div>
                <div class="resultInfo">
                    <p class="title">Reward: </p>
                    <p class="data" id="reward"></p>
                </div>
                <div id="scoreThisRoundBox">
                    <p class="title">Score this round:</p>
                    <p class="data" id="scoreThisRound"></p>
                </div>
                <div id="totalScoreBox">
                    <p class="title">New Total Score: </p>
                    <p class="data" id="totalAfter"></p>
                </div>
                <button class="butNext" id="resultBut">NEXT</button>
            </div>
        </div>
    </div>
    <!--======== DEBRIEFING QUESTION ========-->
    <div class='pageBox' id='questionsBox'>
        You are almost done! Please answer these last questions:<br /><br /><br />

        <strong>Did you complete this experiment seriously throughout (without randomly responding)?</strong>
        <div class='smallDimText'>You will receive credit regardless what your answer is here. Please be honest for science! Thanks!</div>
        <label><div class="option"><input class='optionRadio' type='radio' name='serious' value='0' /><div class='optionText'>No, I didn't.</div></div></label>
        <label><div class="option"><input class='optionRadio' type='radio' name='serious' value='1' /><div class='optionText'>Yes, I did.</div></div></label>

        <br><br><br>

        <strong> Was any part of the procedure unclear? Did you have any problems completing any of the tasks?</strong>
        <div class='smallDimText'>You will receive credit regardless what your answer is here. Please be honest for science! Thanks!</div>
        <textarea id='problems' name="debQ" rows="3" cols="90"></textarea>

        <br><br><br>

        <strong>What is your gender?</strong>
        <label><div class="option"><input class='optionRadio' type='radio' name='gender' value='F' /><div class='optionText'>Female</div></div></label>
        <label><div class="option"><input class='optionRadio' type='radio' name='gender' value='M' /><div class='optionText'>Male</div></div></label>
        <label><div class="option"><input class='optionRadio' type='radio' name='gender' value='O' /><div class='optionText'>Other</div></div></label>
        <label><div class="option"><input class='optionRadio' type='radio' name='gender' value='N' /><div class='optionText'>I would rather not say</div></div></label>

      
        <br><br><br>

        <strong>What is your age?</strong>
        <input type='number' id='age' name="debQ" min="18" max="100">

        <br><br><br>

        <p id="debQWarning"></p>
        <div class='butNext' onclick='SUBMIT_DEBRIEFING_Q()'>SUBMIT</div>
        <br />
    </div>

    <!--==========THANK YOU==========-->
    <div class="pageBox" id="thankPage">
        <p id="thankText">Thank you for completing this experiment!</p>
    </div>
</body>
